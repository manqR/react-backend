(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{652:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="http://52.221.199.238:3000/api"},799:function(e,t,a){"use strict";a.r(t);var n=a(177),s=a(178),c=a(183),r=a(180),o=a(179),i=a(1),d=a(649),l=a(653),h=a(659),u=a.n(h),j=a(97),m=a(652),b=a(13),p=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).handleRecordStatus=function(e){s.setState({recordStatus:e.target.value})},s.handleChangeEmployeeName=function(e){s.setState({employeeName:e.target.value})},s.handleChangePassword=function(e){s.setState({password:e.target.value})},s.handleBranchCode=function(e){s.setState({branchCode:e.target.value})},s.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},s.getDate=function(){var e=new Date,t=e.getFullYear().toString().substr(-2)+""+(e.getMonth()+1);s.setState({date:t})},s.state={recordStatus:"",employeeName:"",password:"",branchCode:"",data:[],date:"",errorMsg:!1,isSave:!1},s.submitHandler=s.submitHandler.bind(Object(c.a)(s)),s.handleRecordStatus=s.handleRecordStatus.bind(Object(c.a)(s)),s.handleChangeEmployeeName=s.handleChangeEmployeeName.bind(Object(c.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(c.a)(s)),s.handleBranchCode=s.handleBranchCode.bind(Object(c.a)(s)),s}return Object(s.a)(a,[{key:"submitHandler",value:function(e){var t=this;e.preventDefault();var a=this.state.date+"-"+Math.floor(999*Math.random())+1;u()("".concat(m.a,"/employee/create"),{method:"POST",proxyHeaders:!1,credentials:!0,headers:{"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},data:this.serialize({recordStatus:this.state.recordStatus,emp_name:this.state.employeeName,emp_code:a,branch_code:this.state.branchCode,password:this.state.password})}).then((function(e){t.setState({isSave:!0}),t.reset()})).catch((function(e){t.setState({errorMsg:!0})}))}},{key:"reset",value:function(){this.setState({recordStatus:"",employeeName:"",branchCode:"",password:""})}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getDate();var t="".concat(m.a,"/branch/list");fetch(t,{method:"post",headers:new Headers({"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.results})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.data.map((function(e,t){return Object(b.jsx)("option",{value:e.BRANCH_CODE,children:e.BRANCH_NAME},t)}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(d.wb,{children:Object(b.jsx)(d.u,{xs:"12",md:"12",children:Object(b.jsxs)(d.j,{children:[Object(b.jsx)(d.n,{children:"Add Employee"}),Object(b.jsx)(d.k,{children:Object(b.jsxs)(d.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"select",children:"Record Status"})}),Object(b.jsx)(d.u,{xs:"12",md:"9",children:Object(b.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleRecordStatus,children:[Object(b.jsx)("option",{value:"",children:"- Choose -"}),Object(b.jsx)("option",{value:"A",children:"Enable"}),Object(b.jsx)("option",{value:"N",children:"Disable"})]})})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"select",children:"Branch Code"})}),Object(b.jsx)(d.u,{xs:"12",md:"9",children:Object(b.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleBranchCode,children:[Object(b.jsx)("option",{value:"",children:"- Choose -"}),e]})})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Employee Name"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Employee  Name",value:this.state.employeeName,onChange:this.handleChangeEmployeeName}),Object(b.jsx)(d.L,{children:"Fill your operator name in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Password"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChangePassword}),Object(b.jsx)(d.L,{children:"Fill your password in here"})]})]})]})}),Object(b.jsx)(d.l,{children:Object(b.jsxs)(d.f,{type:"submit",size:"sm",color:"primary",onClick:this.submitHandler,children:[Object(b.jsx)(l.a,{name:"cil-scrubber"})," Submit"]})})]})})})})}}]),a}(i.Component);t.default=p}}]);
//# sourceMappingURL=48.36fde028.chunk.js.map