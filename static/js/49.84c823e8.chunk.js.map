{"version":3,"sources":["Auth/actions.js","views/master/item/favorite.js"],"names":["BASE_URL","Index","props","serialize","obj","str","p","hasOwnProperty","push","encodeURIComponent","join","state","data","loading","checkBoxChanged","bind","id","axios","method","proxyHeaders","credentials","headers","getToken","this","itemCode","then","response","getListData","catch","error","setState","errorMsg","URL","fetch","Headers","json","results","console","log","mounted","items","fields","key","_style","width","columnFilter","tableFilter","itemsPerPage","hover","sorter","scopedSlots","item","className","value","ITEM_CODE","checked","FAVORITE","onChange","shape","color","Component"],"mappings":"6KACI,kCAGO,IAAMA,EAAU,kC,4LCQNC,E,kDAChB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAoCTC,UAAY,SAAAC,GACV,IAAIC,EAAM,GACV,IAAK,IAAIC,KAAKF,EACRA,EAAIG,eAAeD,IACrBD,EAAIG,KAAKC,mBAAmBH,GAAK,IAAMG,mBAAmBL,EAAIE,KAElE,OAAOD,EAAIK,KAAK,MAzCf,EAAKC,MAAQ,CACVC,KAAM,GACLC,SAAS,GAEb,EAAKC,gBAAkB,EAAKA,gBAAgBC,KAArB,gBANR,E,mDAUlB,SAAgBC,GAAK,IAAD,OAElBC,IAAM,GAAD,OAAIjB,IAAJ,oBAAgC,CACjCkB,OAAQ,OACRC,cAAc,EACdC,aAAa,EACbC,QAAS,CACC,iBAAiBC,cACjB,eAAgB,oCAChB,OAAU,oBAEpBV,KAAMW,KAAKpB,UAAU,CACjBqB,SAAUR,MAEfS,MAAK,SAAAC,GAEL,EAAKC,iBAELC,OAAM,SAAAC,GACL,EAAKC,SAAS,CACVC,UAAS,S,yBAiBnB,WAAc,IAAD,OACLC,EAAG,UAAMhC,IAAN,kBACTiC,MAAMD,EAAK,CACPd,OAAQ,OACRG,QAAS,IAAIa,QAAQ,CACrB,iBAAiBZ,cACjB,eAAgB,oCAChB,OAAU,uBAGbG,MAAK,SAAAC,GAAQ,OAAIA,EAASS,UAC1BV,MAAK,SAAAU,GACF,EAAKL,SAAS,CAAElB,KAAMuB,EAAKC,UAC3BC,QAAQC,IAAI,EAAK3B,MAAMC,W,+BAI9B,WACGW,KAAKgB,SAAU,EACfhB,KAAKI,gB,kCAIT,WACIJ,KAAKgB,SAAU,I,oBAKlB,WAAU,IAAD,OAWL,OACG,cAAC,IAAD,CACAC,MAAOjB,KAAKZ,MAAMC,KAClB6B,OAbW,CACX,CAAEC,IAAK,gBAAiBC,OAAQ,CAAEC,MAAO,QACzC,CAAEF,IAAK,cAAeC,OAAQ,CAAEC,MAAO,QACvC,CAAEF,IAAK,YAAaC,OAAQ,CAAEC,MAAO,QACrC,CAAEF,IAAK,mBAAoBC,OAAQ,CAAEC,MAAO,QAC5C,CAAEF,IAAK,oBAAqBC,OAAQ,CAAEC,MAAO,QAC7C,CAAEF,IAAK,SAAUC,OAAQ,CAAEC,MAAO,SAQlCC,cAAY,EACZC,aAAW,EACXC,aAAc,IACdC,OAAK,EACLC,QAAM,EACNC,YAAe,CACb,OACE,SAACC,GAAD,OAEE,6BACE,cAAC,KAAD,CAASC,UAAW,eAAgBC,MAAOF,EAAKG,UAAYC,QAA4B,IAAlBJ,EAAKK,SAAgCC,SAAW,kBAAM,EAAK3C,gBAAgBqC,EAAKG,YAAaI,MAAO,OAAQC,MAAO,sB,GAtG1KC","file":"static/js/49.84c823e8.chunk.js","sourcesContent":["\r\n    // DEVELOPMENT\r\n    // export const BASE_URL = \"http://localhost:3000/api\";    \r\n    // // PRODUCTION\r\n    export const BASE_URL =\"http://52.221.199.238:3000/api\";\r\n   \r\n","// import \"../../../css/dataTables.bootstrap4.css\";\r\nimport React, { Component } from \"react\";\r\nimport {getToken} from '../../../Auth/common'\r\nimport {BASE_URL} from '../../../Auth/actions'\r\n\r\nimport axios from 'axios';\r\n\r\nimport {    \r\n    CDataTable,   \r\n    CSwitch,\r\n  } from '@coreui/react'\r\n\r\nexport default class Index extends Component {\r\n     constructor(props) {\r\n         super(props);\r\n         this.state = {\r\n            data: [],\r\n             loading: true,\r\n         };\r\n         this.checkBoxChanged = this.checkBoxChanged.bind(this);\r\n     }\r\n\r\n\r\n      checkBoxChanged(id) {\r\n        \r\n        axios(`${BASE_URL}/favorite/update`, {\r\n            method: \"POST\",\r\n            proxyHeaders: false,\r\n            credentials: true,        \r\n            headers: {              \r\n                      \"x-access-token\":getToken(),\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                      \"Accept\": \"application/json\"                  \r\n            },\r\n            data: this.serialize({                  \r\n                itemCode: id                               \r\n            })\r\n        }).then(response => {\r\n         \r\n           this.getListData();\r\n                    \r\n        }).catch(error => {                         \r\n            this.setState({\r\n                errorMsg:true\r\n                \r\n            })\r\n        });\r\n      \r\n      }\r\n\r\n      serialize = obj => {\r\n        let str = [];\r\n        for (let p in obj)\r\n          if (obj.hasOwnProperty(p)) {\r\n            str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\r\n          }\r\n        return str.join(\"&\");\r\n      };\r\n\r\n\r\n      getListData(){\r\n        const URL = `${BASE_URL}/favorite/list`; \r\n        fetch(URL, { \r\n            method: 'post', \r\n            headers: new Headers({\r\n            \"x-access-token\":getToken(),\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Accept\": \"application/json\"    \r\n            })       \r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            this.setState({ data: json.results });       \r\n            console.log(this.state.data)\r\n        });     \r\n      }\r\n     // Keep as you have done\r\n     componentDidMount() {           \r\n        this.mounted = true; \r\n        this.getListData();\r\n    \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n  \r\n\r\n     render() {\r\n        const fields = [\r\n            { key: 'RECORD_STATUS', _style: { width: '10%'} },\r\n            { key: 'BRANCH_CODE', _style: { width: '20%'} },        \r\n            { key: 'ITEM_NAME', _style: { width: '20%'} },\r\n            { key: 'CREATION_USER_ID', _style: { width: '20%'} },\r\n            { key: 'CREATION_DATETIME', _style: { width: '20%'} },\r\n            { key: 'Action', _style: { width: '10%'} },\r\n            \r\n        ]\r\n\r\n         return (\r\n            <CDataTable\r\n            items={this.state.data}\r\n            fields={fields}\r\n            columnFilter\r\n            tableFilter\r\n            itemsPerPage={1000}\r\n            hover\r\n            sorter\r\n            scopedSlots = {{\r\n              'Action':\r\n                (item)=>(\r\n                  \r\n                  <td>\r\n                    <CSwitch className={'mx-1 myCheck'} value={item.ITEM_CODE}  checked={ item.FAVORITE === 1 ? true : false } onChange={ () => this.checkBoxChanged(item.ITEM_CODE) } shape={'pill'} color={'success'} />\r\n                  </td>\r\n                )\r\n            }}\r\n          />\r\n        )\r\n        \r\n     }\r\n}"],"sourceRoot":""}