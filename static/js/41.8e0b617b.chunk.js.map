{"version":3,"sources":["Auth/actions.js","views/pages/login/Login.js"],"names":["BASE_URL","ciphertext","require","SHA512","console","log","Login","props","handleChangeUsername","event","setState","userName","target","value","handleChangePassword","password","serialize","obj","str","p","hasOwnProperty","push","encodeURIComponent","join","state","errorMsg","submitHandler","bind","e","preventDefault","axios","method","proxyHeaders","credentials","headers","data","this","employeeCode","then","response","auth","sessionStorage","setItem","token","history","catch","error","className","md","name","type","placeholder","autoComplete","onChange","xs","color","onClick","style","width","to","active","tabIndex","Component"],"mappings":"6KACI,kCAGO,IAAMA,EAAU,kC,iLC0BvBC,EAJWC,EAAQ,KAIGC,OAAO,SAEjCC,QAAQC,IAAIJ,G,IAINK,E,kDAEH,WAAYC,GAAQ,IAAD,8BAChB,cAAMA,IAYVC,qBAAuB,SAAAC,GACrB,EAAKC,SAAS,CACVC,SAAUF,EAAMG,OAAOC,SAfT,EAmBpBC,qBAAuB,SAAAL,GACrB,EAAKC,SAAS,CACVK,SAAUN,EAAMG,OAAOC,SArBT,EAyBpBG,UAAY,SAAAC,GACV,IAAIC,EAAM,GACV,IAAK,IAAIC,KAAKF,EACRA,EAAIG,eAAeD,IACrBD,EAAIG,KAAKC,mBAAmBH,GAAK,IAAMG,mBAAmBL,EAAIE,KAElE,OAAOD,EAAIK,KAAK,MA3Bd,EAAKC,MAAQ,CACTb,SAAU,GACVI,SAAU,GACVU,UAAU,GAEd,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKb,qBAAuB,EAAKA,qBAAqBa,KAA1B,gBAC5B,EAAKnB,qBAAuB,EAAKA,qBAAqBmB,KAA1B,gBAXZ,E,iDAkCpB,SAAcC,GAAI,IAAD,OAEbA,EAAEC,iBACFC,IAAM,GAAD,OAAI9B,IAAJ,gBAA4B,CAC7B+B,OAAQ,OACRC,cAAc,EACdC,aAAa,EACbC,QAAS,CACC,eAAgB,oCAChB,OAAU,oBAEpBC,KAAMC,KAAKpB,UAAU,CACjBqB,aAAcD,KAAKZ,MAAMb,SACzBI,SAAUqB,KAAKZ,MAAMT,aAE1BuB,MAAK,SAAAC,GACDA,EAASJ,KAAKK,OACbC,eAAeC,QAAQ,QAASH,EAASJ,KAAKQ,OAC9C,EAAKpC,MAAMqC,QAAQvB,KAAK,kBAE7BwB,OAAM,SAAAC,GACL,EAAKpC,SAAS,CACVe,UAAS,S,oBAKrB,WACA,OACE,qBAAKsB,UAAU,qDAAf,SACE,cAAC,IAAD,UACE,cAAC,KAAD,CAAMA,UAAU,yBAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOD,UAAU,MAAjB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,uCACA,mBAAGA,UAAU,aAAb,qCACA,eAAC,IAAD,CAAaA,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOE,KAAK,iBAGhB,cAAC,IAAD,CACIC,KAAK,OACLC,YAAY,WACZC,aAAa,WACbvC,MAAOuB,KAAKZ,MAAMb,SAClB0C,SAAUjB,KAAK5B,0BAGrB,eAAC,IAAD,CAAauC,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOE,KAAK,wBAGhB,cAAC,IAAD,CACIC,KAAK,WACLC,YAAY,WACZC,aAAa,mBACbC,SAAUjB,KAAKtB,qBACfD,MAAOuB,KAAKZ,MAAMT,cAGxB,cAAC,KAAD,UACE,cAAC,IAAD,CAAMuC,GAAG,IAAT,SACE,cAAC,IAAD,CAASC,MAAM,UAAUR,UAAU,OAAOS,QAASpB,KAAKV,cAAxD,8BAMV,cAAC,IAAD,CAAOqB,UAAU,4CAA4CU,MAAO,CAAEC,MAAO,OAA7E,SACE,cAAC,IAAD,CAAWX,UAAU,cAArB,SACE,gCACE,yCACA,6JAEA,cAAC,IAAD,CAAMY,GAAG,YAAT,SACE,cAAC,IAAD,CAASJ,MAAM,UAAUR,UAAU,OAAOa,QAAM,EAACC,UAAW,EAA5D,mD,GAtHFC,aAoILxD","file":"static/js/41.8e0b617b.chunk.js","sourcesContent":["\r\n    // DEVELOPMENT\r\n    // export const BASE_URL = \"http://localhost:3000/api\";    \r\n    // // PRODUCTION\r\n    export const BASE_URL =\"http://52.221.199.238:3000/api\";\r\n   \r\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n\nimport axios from 'axios';\nimport {BASE_URL} from './../../../Auth/actions'\n\n\n// const SimpleCrypto = require(\"simple-crypto-js\").default;\n// var aesjs = require('aes-js');\n// const _secretKey = \"superS3cr3t\";\n// const simpleCrypto = new SimpleCrypto(_secretKey);\nvar CryptoJS = require(\"crypto-js\");\n \n// Encrypt\n// var ciphertext = CryptoJS.AES.encrypt('pilot2', '1nd0m0b1lIP3v200').toString();\nvar ciphertext = CryptoJS.SHA512(\"admin\")\n\nconsole.log(ciphertext)\n\n \n\nclass Login extends Component {\n   // API POST LOGIN\n   constructor(props) {\n      super(props);\n\n      \n      this.state = {\n          userName: \"\",\n          password: \"\",\n          errorMsg: false,\n      };\n      this.submitHandler = this.submitHandler.bind(this);\n      this.handleChangePassword = this.handleChangePassword.bind(this);\n      this.handleChangeUsername = this.handleChangeUsername.bind(this);\n  }\n  handleChangeUsername = event => {\n    this.setState({\n        userName: event.target.value\n    });\n  }\n\n  handleChangePassword = event => {\n    this.setState({\n        password: event.target.value\n    });\n  }\n\n  serialize = obj => {\n    let str = [];\n    for (let p in obj)\n      if (obj.hasOwnProperty(p)) {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n      }\n    return str.join(\"&\");\n  };\n\n  submitHandler(e) { \n      \n      e.preventDefault();      \n      axios(`${BASE_URL}/auth/login2`, {\n          method: \"POST\",\n          proxyHeaders: false,\n          credentials: false,\n          headers: {              \n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    \"Accept\": \"application/json\"\n          },\n          data: this.serialize({\n              employeeCode: this.state.userName,\n              password: this.state.password\n          })\n      }).then(response => {\n          if(response.data.auth){               \n              sessionStorage.setItem(\"token\", response.data.token);                \n              this.props.history.push('/dashboard');                \n          }            \n      }).catch(error => {                         \n          this.setState({\n              errorMsg:true\n          })\n      });\n                  \n  }\n  render() {\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput \n                          type=\"text\" \n                          placeholder=\"Username\" \n                          autoComplete=\"username\" \n                          value={this.state.userName}                        \n                          onChange={this.handleChangeUsername} \n                          />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput \n                          type=\"password\" \n                          placeholder=\"Password\" \n                          autoComplete=\"current-password\" \n                          onChange={this.handleChangePassword}                        \n                          value={this.state.password}\n                          />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton color=\"primary\" className=\"px-4\" onClick={this.submitHandler}>Login</CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                <CCardBody className=\"text-center\">\n                  <div>\n                    <h2>Sign up</h2>\n                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut\n                      labore et dolore magna aliqua.</p>\n                    <Link to=\"/register\">\n                      <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Register Now!</CButton>\n                    </Link>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n    );\n  }\n}\n\nexport default Login\n"],"sourceRoot":""}