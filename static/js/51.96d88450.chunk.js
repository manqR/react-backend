(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[51],{652:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c="http://52.221.199.238:3000/api"},802:function(e,t,n){"use strict";n.r(t);var c=n(177),a=n(178),i=n(183),r=n(180),s=n(179),o=n(1),d=n(649),h=n(653),l=n(659),u=n.n(l),j=n(97),b=n(652),m=n(13),x=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeRecordStatus=function(e){a.setState({recordStatus:e.target.value})},a.handleChangeItemCode=function(e){a.setState({itemCode:e.target.value})},a.handleChangeItemPrice=function(e){a.setState({itemPrice:e.target.value})},a.handleChangeEffPriceDate=function(e){a.setState({effPriceDate:e.target.value})},a.handleChangeBranchCode=function(e){a.setState({branchCode:e.target.value})},a.serialize=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},a.getDate=function(){var e=new Date,t=e.getFullYear().toString().substr(-2)+""+(e.getMonth()+1);a.setState({date:t})},a.state={recordStatus:"A",branchCode:"",itemCode:"",itemPrice:"",effPriceDate:null,errorMsg:!1,isSave:!1,data:[],items:[]},a.submitHandler=a.submitHandler.bind(Object(i.a)(a)),a.handleChangeRecordStatus=a.handleChangeRecordStatus.bind(Object(i.a)(a)),a.handleChangeItemCode=a.handleChangeItemCode.bind(Object(i.a)(a)),a.handleChangeItemPrice=a.handleChangeItemPrice.bind(Object(i.a)(a)),a.handleChangeEffPriceDate=a.handleChangeEffPriceDate.bind(Object(i.a)(a)),a.handleChangeBranchCode=a.handleChangeBranchCode.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),u()("".concat(b.a,"/price/create"),{method:"POST",proxyHeaders:!1,credentials:!0,headers:{"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},data:this.serialize({recordStatus:this.state.recordStatus,itemPrice:this.state.itemPrice,branchCode:this.state.branchCode,itemCode:this.state.itemCode,effPriceDate:this.state.effPriceDate})}).then((function(e){t.setState({isSave:!0}),t.reset()})).catch((function(e){t.setState({errorMsg:!0})}))}},{key:"reset",value:function(){this.setState({recordStatus:"A",itemCode:"",branchCode:"",itemPrice:"",effPriceDate:null,data:[]})}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getDate();var t="".concat(b.a,"/branch/list");fetch(t,{method:"post",headers:new Headers({"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.results})}));var n="".concat(b.a,"/item/list");fetch(n,{method:"post",headers:new Headers({"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({items:t.results})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.data.map((function(e,t){return Object(m.jsx)("option",{value:e.BRANCH_CODE,children:e.BRANCH_NAME},t)})),t=this.state.items.map((function(e,t){return Object(m.jsx)("option",{value:e.ITEM_CODE,children:e.ITEM_NAME},t)}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.wb,{children:Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsxs)(d.j,{children:[Object(m.jsx)(d.n,{children:"Add Price Item"}),Object(m.jsx)(d.k,{children:Object(m.jsxs)(d.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"select",children:"Record Status"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleChangeRecordStatus,children:[Object(m.jsx)("option",{value:"",children:"- Choose -"}),Object(m.jsx)("option",{value:"A",children:"Enable"}),Object(m.jsx)("option",{value:"N",children:"Disable"})]})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"select",children:"Branch Code"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleChangeBranchCode,children:[Object(m.jsx)("option",{value:"",children:"- Choose -"}),Object(m.jsx)("option",{value:"0",children:"- All -"}),e]})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"select",children:"Item"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleChangeItemCode,children:[Object(m.jsx)("option",{value:"",children:"- Choose -"}),Object(m.jsx)("option",{value:"0",children:"- All -"}),t]})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Item Price"})}),Object(m.jsxs)(d.u,{xs:"12",md:"9",children:[Object(m.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Item Price",value:this.state.itemPrice,onChange:this.handleChangeItemPrice}),Object(m.jsx)(d.L,{children:"Item Price"})]})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Start Effective Price"})}),Object(m.jsxs)(d.u,{xs:"12",md:"9",children:[Object(m.jsx)(d.S,{id:"text-input",name:"text-input",type:"date",placeholder:"Effective Price Date",value:this.state.effPriceDate,onChange:this.handleChangeEffPriceDate}),Object(m.jsx)(d.L,{children:"Fill your Effective Date for Item Price in here"})]})]})]})}),Object(m.jsx)(d.l,{children:Object(m.jsxs)(d.f,{type:"submit",size:"sm",color:"primary",onClick:this.submitHandler,children:[Object(m.jsx)(h.a,{name:"cil-scrubber"})," Submit"]})})]})})})})}}]),n}(o.Component);t.default=x}}]);
//# sourceMappingURL=51.96d88450.chunk.js.map