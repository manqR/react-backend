(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[52],{652:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n="http://52.221.199.238:3000/api"},803:function(e,t,c){"use strict";c.r(t);var n=c(177),a=c(178),o=c(183),r=c(180),s=c(179),i=c(1),d=c(649),h=c(653),l=c(659),u=c.n(l),j=c(97),b=c(652),m=c(13),x=function(e){Object(r.a)(c,e);var t=Object(s.a)(c);function c(e){var a;return Object(n.a)(this,c),(a=t.call(this,e)).handleChangeBranchCode=function(e){a.setState({branchCode:e.target.value})},a.handleChangeSourceCode=function(e){a.setState({sourceCode:e.target.value})},a.handleChangeDocName=function(e){a.setState({docName:e.target.value})},a.handleChangeSrcDocText=function(e){a.setState({srcDocText:e.target.value})},a.handleChangeDocFormat=function(e){a.setState({docFormat:e.target.value})},a.serialize=function(e){var t=[];for(var c in e)e.hasOwnProperty(c)&&t.push(encodeURIComponent(c)+"="+encodeURIComponent(e[c]));return t.join("&")},a.getDate=function(){var e=new Date,t=e.getFullYear().toString().substr(-2)+""+(e.getMonth()+1);a.setState({date:t})},a.state={branchCode:"",sourceCode:"",docName:"",srcDocText:"",docFormat:"",errorMsg:null,isSave:!1,data:[]},a.submitHandler=a.submitHandler.bind(Object(o.a)(a)),a.handleChangeBranchCode=a.handleChangeBranchCode.bind(Object(o.a)(a)),a.handleChangeSourceCode=a.handleChangeSourceCode.bind(Object(o.a)(a)),a.handleChangeDocName=a.handleChangeDocName.bind(Object(o.a)(a)),a.handleChangeSrcDocText=a.handleChangeSrcDocText.bind(Object(o.a)(a)),a.handleChangeDocFormat=a.handleChangeDocFormat.bind(Object(o.a)(a)),a}return Object(a.a)(c,[{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),u()("".concat(b.a,"/srcdoc/create"),{method:"POST",proxyHeaders:!1,credentials:!0,headers:{"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},data:this.serialize({branchCode:this.state.branchCode,sourceCode:this.state.sourceCode,docName:this.state.docName,srcDocText:this.state.srcDocText,docFormat:this.state.docFormat})}).then((function(e){t.setState({isSave:!0}),t.reset()})).catch((function(e){t.setState({errorMsg:!0})}))}},{key:"reset",value:function(){this.setState({branchCode:"",sourceCode:"",docName:"",srcDocText:"",docFormat:"",data:[]})}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getDate();var t="".concat(b.a,"/branch/list");fetch(t,{method:"post",headers:new Headers({"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.results})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.data.map((function(e,t){return Object(m.jsx)("option",{value:e.BRANCH_CODE,children:e.BRANCH_NAME},t)}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.wb,{children:Object(m.jsx)(d.u,{xs:"12",md:"12",children:Object(m.jsxs)(d.j,{children:[Object(m.jsx)(d.n,{children:"Add Src Doc"}),Object(m.jsx)(d.k,{children:Object(m.jsxs)(d.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"select",children:"Branch Code"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleChangeBranchCode,children:[Object(m.jsx)("option",{value:"",children:"- Choose -"}),Object(m.jsx)("option",{value:"0",children:"- All -"}),e]})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Source Code"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Source Doc",value:this.state.sourceCode,onChange:this.handleChangeSourceCode})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Doc Name"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Doc Name",value:this.state.docName,onChange:this.handleChangeDocName})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Doc Text"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Doc Text",value:this.state.srcDocText,onChange:this.handleChangeSrcDocText})})]}),Object(m.jsxs)(d.K,{row:!0,children:[Object(m.jsx)(d.u,{md:"3",children:Object(m.jsx)(d.cb,{htmlFor:"text-input",children:"Doc Format"})}),Object(m.jsx)(d.u,{xs:"12",md:"9",children:Object(m.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Doc Format",value:this.state.docFormat,onChange:this.handleChangeDocFormat})})]})]})}),Object(m.jsx)(d.l,{children:Object(m.jsxs)(d.f,{type:"submit",size:"sm",color:"primary",onClick:this.submitHandler,children:[Object(m.jsx)(h.a,{name:"cil-scrubber"})," Submit"]})})]})})})})}}]),c}(i.Component);t.default=x}}]);
//# sourceMappingURL=52.ee6151c5.chunk.js.map