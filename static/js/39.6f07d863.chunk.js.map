{"version":3,"sources":["Auth/actions.js","views/promo/index.js"],"names":["BASE_URL","$","require","Datatable","Index","props","state","branch","loading","a","this","mounted","URL","axios","method","headers","getToken","res","setState","data","results","getUsersData","then","syncTable","$el","el","DataTable","columns","title","xs","md","to","type","size","color","content","cilPlus","className","width","ref","Component"],"mappings":"6KACI,kCAGO,IAAMA,EAAU,kC,+PCcrBC,EAAIC,EAAQ,KAClBD,EAAEE,UAAYD,EAAQ,K,IAGDE,E,kDAChB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,OAAQ,GACRC,SAAS,GAJE,E,uFAUf,8BAAAC,EAAA,6DACGC,KAAKC,SAAU,EACTC,EAFT,UAEkBZ,IAFlB,wBAIqBa,IAAMD,EAAK,CACjBE,OAAQ,OACRC,QAAS,CACD,iBAAiBC,cACjB,eAAgB,oCAChB,OAAU,sBATjC,OAISC,EAJT,OAYGP,KAAKQ,SAAS,CAAEV,SAAS,EAAOD,OAAQU,EAAIE,KAAKC,UAZpD,gD,qFAiBL,WAAqB,IAAD,OAChBV,KAAKW,eAAeC,MAAK,kBAAM,EAAKC,iB,uBAKxC,WACIb,KAAKc,IAAMvB,EAAES,KAAKe,IAClBf,KAAKc,IAAIE,UAAU,CACnBP,KAAMT,KAAKJ,MAAMC,OAIjBoB,QAAS,CACL,CAAEC,MAAO,cAAeT,KAAM,eAC9B,CAAES,MAAO,aAAcT,KAAM,cAC7B,CAAES,MAAO,oBAAqBT,KAAM,qBACpC,CAAES,MAAO,aAAcT,KAAM,aAC7B,CAAES,MAAO,WAAYT,KAAM,WAC3B,CAAES,MAAO,SAAUT,KAAM,UACzB,CAAES,MAAO,UAAWT,KAAM,WAC1B,CAAES,MAAO,QAAST,KAAM,c,gCAM/B,c,oBAEA,WAAU,IAAD,OACL,OACG,cAAC,KAAD,UACI,cAAC,IAAD,CAAMU,GAAG,KAAKC,GAAG,KAAjB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,KAAD,CAAOC,GAAG,gBAAV,SACI,eAAC,IAAD,CAASC,KAAK,SAAUC,KAAK,KAAKC,MAAM,UAAxC,UACA,cAAC,IAAD,CAAOC,QAASC,MADhB,oBAKR,cAAC,IAAD,UACI,uBAAOC,UAAU,wBAAwBC,MAAM,OAC3CC,IAAK,SAACd,GAAD,OAAS,EAAKA,GAAKA,kB,GAvErBe","file":"static/js/39.6f07d863.chunk.js","sourcesContent":["\r\n    // DEVELOPMENT\r\n    // export const BASE_URL = \"http://localhost:3000/api\";    \r\n    // // PRODUCTION\r\n    export const BASE_URL =\"http://52.221.199.238:3000/api\";\r\n   \r\n","import \"../../css/dataTables.bootstrap4.css\";\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport CIcon from '@coreui/icons-react'\r\nimport { cilPlus } from '@coreui/icons';\r\nimport {getToken} from '../../Auth/common'\r\nimport {BASE_URL} from '../../Auth/actions'\r\n\r\nimport {\r\n    CButton,\r\n    CCard,\r\n    CCardBody,\r\n    CCardHeader,\r\n    CCol,\r\n    CRow,\r\n    CLink,\r\n  } from '@coreui/react'\r\n\r\nconst $ = require(\"jquery\");\r\n$.Datatable = require(\"datatables.net\");\r\n\r\n\r\nexport default class Index extends Component {\r\n     constructor(props) {\r\n         super(props);\r\n         this.state = {\r\n             branch: [],\r\n             loading: true,\r\n         };\r\n     }\r\n\r\n     // Keep as you have done\r\n         // Keep as you have done\r\n         async getUsersData() {\r\n            this.mounted = true; \r\n            const URL = `${BASE_URL}/promo/list`; \r\n         \r\n            const res = await axios(URL, {\r\n                        method: \"POST\",     \r\n                        headers: {              \r\n                                \"x-access-token\":getToken(),\r\n                                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                                \"Accept\": \"application/json\"                  \r\n                        },\r\n                    })\r\n            this.setState({ loading: false, branch: res.data.results });\r\n                        \r\n        }\r\n        \r\n    // Init table data as component is mounted\r\n    componentDidMount() {\r\n        this.getUsersData().then(() => this.syncTable());\r\n        // console.log('company',this.state.users)\r\n    }\r\n    \r\n    // Split as new function to init the datatable\r\n    syncTable() {\r\n        this.$el = $(this.el);\r\n        this.$el.DataTable({\r\n        data: this.state.branch, //option 1\r\n        // data: this.getUsersData1(), //option 2\r\n        \r\n          \r\n        columns: [\r\n            { title: \"Branch Code\", data: \"branch_code\" },\r\n            { title: \"Promo Code\", data: \"promo_code\" },\r\n            { title: \"Promo Description\", data: \"promo_description\" },\r\n            { title: \"Start Date\", data: \"eff_start\" },\r\n            { title: \"End Date\", data: \"eff_end\" },\r\n            { title: \"Amount\", data: \"amount\" },\r\n            { title: \"Percent\", data: \"percent\" },\r\n            { title: \"Quota\", data: \"quota\" },\r\n        ]\r\n        \r\n        });\r\n    }\r\n\r\n     componentWillMount() {}\r\n\r\n     render() {\r\n         return (\r\n            <CRow>\r\n                <CCol xs=\"12\" md=\"12\">\r\n                    <CCard>\r\n                        <CCardHeader>\r\n                            <CLink to=\"/promo-create\">\r\n                                <CButton type=\"button\"  size=\"sm\" color=\"success\">\r\n                                <CIcon content={cilPlus} /> Add Promo\r\n                                </CButton>\r\n                            </CLink>                                  \r\n                        </CCardHeader>\r\n                        <CCardBody>                          \r\n                            <table className=\"table table-bordered \" width=\"100%\"\r\n                                ref={(el) => (this.el = el)}>\r\n                            </table>\r\n                        </CCardBody>\r\n                    </CCard>         \r\n                </CCol>        \r\n            </CRow>\r\n         );\r\n     }\r\n}"],"sourceRoot":""}