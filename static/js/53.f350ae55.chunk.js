(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[53],{652:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="http://52.221.199.238:3000/api"},804:function(e,t,n){"use strict";n.r(t);var o=n(177),r=n(178),c=n(183),a=n(180),i=n(179),s=n(1),d=n(649),l=n(653),h=n(659),u=n.n(h),j=n(97),m=n(652),b=n(13),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleChangeBranchCode=function(e){r.setState({branchCode:e.target.value})},r.handlePromoCode=function(e){r.setState({promo_code:e.target.value})},r.handlePromoDescription=function(e){r.setState({promo_description:e.target.value})},r.handleEffStart=function(e){r.setState({eff_start:e.target.value})},r.handleeffEnd=function(e){r.setState({eff_end:e.target.value})},r.handleAmount=function(e){r.setState({amount:e.target.value})},r.handlePercent=function(e){r.setState({percent:e.target.value})},r.handleQuota=function(e){r.setState({quota:e.target.value})},r.serialize=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r.state={branchCode:"",promo_code:"",promo_description:"",eff_start:null,eff_end:null,amount:0,percent:0,quota:0,errorMsg:!1,isSave:!1,data:[]},r.submitHandler=r.submitHandler.bind(Object(c.a)(r)),r.handleChangeBranchCode=r.handleChangeBranchCode.bind(Object(c.a)(r)),r.handlePromoCode=r.handlePromoCode.bind(Object(c.a)(r)),r.handlePromoDescription=r.handlePromoDescription.bind(Object(c.a)(r)),r.handleEffStart=r.handleEffStart.bind(Object(c.a)(r)),r.handleeffEnd=r.handleeffEnd.bind(Object(c.a)(r)),r.handleAmount=r.handleAmount.bind(Object(c.a)(r)),r.handlePercent=r.handlePercent.bind(Object(c.a)(r)),r.handleQuota=r.handleQuota.bind(Object(c.a)(r)),r}return Object(r.a)(n,[{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),u()("".concat(m.a,"/promo/create"),{method:"POST",proxyHeaders:!1,credentials:!0,headers:{"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},data:this.serialize({branchCode:this.state.branchCode,promo_code:this.state.promo_code,promo_description:this.state.promo_description,eff_start:this.state.eff_start,eff_end:this.state.eff_end,amount:this.state.amount,percent:this.state.percent,quota:this.state.quota})}).then((function(e){t.setState({isSave:!0}),t.reset(),t.componentDidMount()})).catch((function(e){t.setState({errorMsg:!0})}))}},{key:"reset",value:function(){this.setState({branchCode:"",promo_code:"",promo_description:"",eff_start:"",eff_end:"",amount:0,percent:0,quota:0})}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t="".concat(m.a,"/branch/list");fetch(t,{method:"post",headers:new Headers({"x-access-token":Object(j.a)(),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.results})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.data.map((function(e,t){return Object(b.jsx)("option",{value:e.BRANCH_CODE,children:e.BRANCH_NAME},t)}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(d.wb,{children:Object(b.jsx)(d.u,{xs:"12",md:"12",children:Object(b.jsxs)(d.j,{children:[Object(b.jsx)(d.n,{children:"Add Promo"}),Object(b.jsx)(d.k,{children:Object(b.jsxs)(d.J,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"select",children:"Branch Code"})}),Object(b.jsx)(d.u,{xs:"12",md:"9",children:Object(b.jsxs)(d.xb,{custom:!0,name:"select",id:"select",onChange:this.handleChangeBranchCode,children:[Object(b.jsx)("option",{value:"",children:"- Choose -"}),Object(b.jsx)("option",{value:"0",children:"- All -"}),e]})})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Promo Code"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Promo Code",value:this.state.promo_code,onChange:this.handlePromoCode}),Object(b.jsx)(d.L,{children:"Fill your Promo Code in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Amount"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Amount",value:this.state.amount,onChange:this.handleAmount}),Object(b.jsx)(d.L,{children:"Fill your Amount in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Description"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Promo Description",value:this.state.promo_description,onChange:this.handlePromoDescription}),Object(b.jsx)(d.L,{children:"Fill your Promo Description in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Percent"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Percent(%)",value:this.state.percent,onChange:this.handlePercent}),Object(b.jsx)(d.L,{children:"Fill your Percent of Promo(Optional) in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Start Promo"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",type:"date",name:"text-input",placeholder:"Start Promo",value:this.state.eff_start,onChange:this.handleEffStart}),Object(b.jsx)(d.L,{children:"Fill your Start Eff Date Promo in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"End Promo"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",type:"date",name:"text-input",placeholder:"End Promo",value:this.state.eff_end,onChange:this.handleeffEnd}),Object(b.jsx)(d.L,{children:"Fill your End Date Promo in here"})]})]}),Object(b.jsxs)(d.K,{row:!0,children:[Object(b.jsx)(d.u,{md:"3",children:Object(b.jsx)(d.cb,{htmlFor:"text-input",children:"Quota"})}),Object(b.jsxs)(d.u,{xs:"12",md:"9",children:[Object(b.jsx)(d.S,{id:"text-input",name:"text-input",placeholder:"Quota Promo",value:this.state.quota,onChange:this.handleQuota}),Object(b.jsx)(d.L,{children:"Fill your Quota Promo in here"})]})]})]})}),Object(b.jsx)(d.l,{children:Object(b.jsxs)(d.f,{type:"submit",size:"sm",color:"primary",onClick:this.submitHandler,children:[Object(b.jsx)(l.a,{name:"cil-scrubber"})," Submit"]})})]})})})})}}]),n}(s.Component);t.default=p}}]);
//# sourceMappingURL=53.f350ae55.chunk.js.map